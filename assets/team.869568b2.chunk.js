(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1024:function(e,t,n){"use strict";n.r(t);var r=n(20),o=n.n(r),a=(n(11),n(101)),i=n(33),l=n(380),s=n.n(l),c=n(738),u=n(1031),f=n(21),d=n(52),p=n(1026),m=n(146),g=n(1030),h=n(1019),y=n(390),b=n.n(y),v=n(446),j=n.n(v),k=n(420),w=n(1);function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){S(e,t,n[t])})}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var N=function(e){var t="";return e.forEach(function(e,n){t="".concat(t).concat(0!==n?"|":"").concat(e.join(","))}),t},T=function(e){return{type:w.N,payload:e}},_=function(){return{type:w.M}},x=function(){return{type:w.L}};function H(e){return function(t){t(Object(k.a)()),t(x());var n="";return e&&Object.keys(e).forEach(function(t){var r=e[t];"matchIn"===t&&(r=N(e[t])),n="".concat(n).concat(n?"&":"?").concat(t,"=").concat(r)}),j()({url:"/api/workers".concat(n),method:"get",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){t(T(e.data))}).catch(function(e){t(Object(k.b)({error:e,message:"It is unable to load Members list. Please try again later."})),t(_())})}}var P=function(e){return{type:w.l,payload:{data:e}}},I=function(){return{type:w.k}},M=function(){return{type:w.j}};function A(e){var t=e.pagination,n=C(e,["pagination"]);return function(e){e(Object(k.a)()),e(M());var r=JSON.parse(JSON.stringify(t));return r.matchIn&&(r.matchIn=N(r.matchIn),r.matchColumn=r.matchColumn.join(",")),j()({url:"/api/workers",method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},data:O({pagination:r},n)}).then(function(t){e(P(t.data))}).catch(function(t){e(Object(k.b)({error:t,message:"It is unable to save new Member ".concat(n.firstName," ").concat(n.lastName,". Please try again later.")})),e(I())})}}var W=function(e){return{type:w.ab,payload:{data:e}}},D=function(){return{type:w.Z}},E=function(){return{type:w.Y}};function L(e){var t=e.pagination,n=C(e,["pagination"]);return function(e){e(Object(k.a)()),e(E());var r=JSON.parse(JSON.stringify(t));return r.matchIn&&(r.matchIn=N(r.matchIn),r.matchColumn=r.matchColumn.join(",")),j()({url:"/api/workers",method:"put",headers:{Accept:"application/json","Content-Type":"application/json"},data:O({pagination:r},n)}).then(function(t){e(W(t.data))}).catch(function(t){e(Object(k.b)({error:t,message:"It is unable to update Member ".concat(n.firstName," ").concat(n.lastName,". Please try again later.")})),e(D())})}}var z=function(e){return{type:w.z,payload:{data:e}}},F=function(){return{type:w.y}},Y=function(){return{type:w.x}};function U(e){var t=e.pagination,n=e.id;return function(e){e(Object(k.a)()),e(Y());var r=JSON.parse(JSON.stringify(t));return r.matchIn&&(r.matchIn=N(r.matchIn),r.matchColumn=r.matchColumn.join(",")),j()({url:"/api/workers",method:"delete",headers:{Accept:"application/json","Content-Type":"application/json"},data:{pagination:r,id:n}}).then(function(t){e(z(t.data))}).catch(function(t){e(Object(k.b)({error:t,message:"It is impossible to delete Member. Please try again later."})),e(F())})}}var q=function(e){return{type:w.n,payload:{data:e}}},Z=function(){return{type:w.m}};function $(e){return function(t){return t(Object(k.a)()),j()({url:"/api/workers/check",method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},data:e}).then(function(e){return t(q(e.data)),e.data}).catch(function(e){t(Object(k.b)({error:e,message:"It is impossible to check Member Name. Please try again later."})),t(Z())})}}var B=n(1025),K=n(1028),G=n(1029),J=n(104),V=n(147);var Q,R=n(719),X=n.n(R);function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ne(e,t,n,r){Q||(Q="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var l=new Array(a),s=0;s<a;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:Q,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){se(e,t,n[t])})}return e}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ce=J.a.Option;var ue={labelCol:{xs:{span:24}},wrapperCol:{xs:{span:24}}},fe={firstName:"",lastName:"",managerId:null,currentProject:null,skillsList:[],onHolidaysTill:null,freeSince:null,workingHoursFrom:null,workingHoursTo:null,workingHoursTimeZone:null},de=ne(ce,{value:"0"},void 0,"GMT"),pe=ne(ce,{value:"1"},void 0,"CET"),me=ne(ce,{value:"2"},void 0,"EST"),ge=ne(ce,{value:"3"},void 0,"AST"),he=ne(ce,{value:"4"},void 0,"PST"),ye=function(e){function t(){var e,n,r,o,a,i,l,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];return r=this,o=(e=ae(t)).call.apply(e,[this].concat(u)),se(le(le(n=!o||"object"!==ee(o)&&"function"!=typeof o?le(r):o)),"state",re({notUniqueName:!1,modalTitle:"Add New Team Member",checkingName:!1},fe)),se(le(le(n)),"onDateChange",function(e,t){n.setState(se({},t,e))}),se(le(le(n)),"checkWorkerName",(a=function(){var e=n.state,t=e.firstName,r=e.lastName,o=n.props,a=o.actions,i=o.workerToEdit;a.checkWorker({firstName:t,lastName:r,id:i?i._id:null}).then(function(e){n.setState({checkingName:!1,notUniqueName:e})})},i=500,function(){var e=this,t=arguments,n=l&&!s;clearTimeout(s),s=setTimeout(function(){s=null,l||a.apply(e,t)},i),n&&a.apply(e,t)})),se(le(le(n)),"handleChangeName",function(e,t){var r;n.setState((se(r={},t,e),se(r,"checkingName",!0),se(r,"notUniqueName",!1),r),function(){n.checkWorkerName()})}),se(le(le(n)),"handleChangeSelect",function(e,t){n.setState(se({},t,e))}),se(le(le(n)),"afterClose",function(){var e=n.props.handleCancel;n.setState(re({notUniqueName:!1},fe)),e()}),se(le(le(n)),"prepareFormData",function(){var e=n.state,t=e.firstName,r=e.lastName,o=e.managerId,a=e.currentProject,i=e.skillsList,l=e.onHolidaysTill,s=e.freeSince,c=e.workingHoursFrom,u=e.workingHoursTo,f=e.workingHoursTimeZone,d=n.props,p=d.workerToEdit,m=d.paginationWithParams,g={firstName:t.trim(),lastName:r.trim(),managerId:o||null,currentProject:a||null,skillsList:i,onHolidaysTill:l?l.utcOffset(0).set({hour:0,minute:0,second:0,millisecond:0}).toISOString():null,freeSince:s?s.utcOffset(0).set({hour:0,minute:0,second:0,millisecond:0}).toISOString():null,workingHours:{timezone:f||"",start:c?c.format("HH:mm"):"",end:u?u.format("HH:mm"):""}};return p&&(g.id=p._id),g.pagination=m,g}),se(le(le(n)),"handleAddNewWorker",function(e){e&&e.preventDefault();var t=n.state,r=t.firstName,o=t.lastName,a=n.props,i=a.actions,l=a.workerToEdit,s=n.prepareFormData();r.replace(/\s/g,"").length&&o.replace(/\s/g,"").length&&(l?i.updateWorker(s):i.addWorker(s))}),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.sending,r=t.updating,o=t.handleCancel,a=t.workerToEdit;(!n&&e.sending||!r&&e.updating)&&o(),a&&e.workerToEdit!==a?this.setState({firstName:a.firstName,lastName:a.lastName,managerId:a.managerId?a.managerId._id:null,currentProject:a.currentProject?a.currentProject._id:null,skillsList:a.skillsList?a.skillsList.map(function(e){return e._id}):[],onHolidaysTill:a.onHolidaysTill,freeSince:a.freeSince,workingHoursFrom:a.workingHoursFrom,workingHoursTo:a.workingHoursTo,workingHoursTimeZone:a.workingHoursTimeZone,modalTitle:"Edit Team Member"}):e.workerToEdit!==a&&this.setState({modalTitle:"Add New Team Member"})}},{key:"render",value:function(){var e=this,t=this.state,n=t.firstName,r=t.lastName,a=t.notUniqueName,i=t.modalTitle,l=t.managerId,c=t.currentProject,u=t.skillsList,f=t.onHolidaysTill,m=t.freeSince,g=t.workingHoursFrom,h=t.workingHoursTo,y=t.workingHoursTimeZone,b=t.checkingName,v=this.props,j=v.sending,k=v.handleCancel,w=v.visible,O=v.skills,S=v.managers,C=v.projects;return ne(p.a,{visible:w,className:X.a.addModal,title:i,onOk:this.handleAddNewWorker,onCancel:k,afterClose:this.afterClose,confirmLoading:j,footer:[ne(d.a,{htmlType:"button",onClick:k},"back","Return"),ne(d.a,{htmlType:"button",type:"primary",loading:j,disabled:b||j||a||!n.replace(/\s/g,"").length||!r.replace(/\s/g,"").length,onClick:this.handleAddNewWorker},"submit","Submit")]},void 0,o.a.createElement(G.a,te({},ue,{onSubmit:this.handleAddNewWorker,method:"get"}),ne(G.a.Item,{label:"First Name",className:X.a.requiredField,validateStatus:a?"error":"",help:a&&"This Worker already exists"},void 0,ne(B.a,{placeholder:"Enter worker first name",id:"firstName",onChange:function(t){return e.handleChangeName(t.target.value,"firstName")},value:n})),ne(G.a.Item,{label:"Last Name",className:X.a.requiredField,validateStatus:a?"error":"",help:a&&"This Worker already exists"},void 0,ne(B.a,{placeholder:"Enter worker last name",id:"lastName",onChange:function(t){return e.handleChangeName(t.target.value,"lastName")},value:r})),ne(G.a.Item,{label:"Available Skills "},void 0,ne(J.a,{mode:"tags",allowClear:!0,showArrow:!0,value:u||void 0,placeholder:"Click to assign Skills",onChange:function(t){return e.handleChangeSelect(t,"skillsList")}},void 0,O.map(function(e){return ne(ce,{},e._id,e.name)}))),ne(G.a.Item,{label:"Manager"},void 0,ne(J.a,{showSearch:!0,allowClear:!0,value:l||void 0,placeholder:"Click and Type to assign Manager",onChange:function(t){return e.handleChangeSelect(t,"managerId")},filterOption:function(e,t){return t.props.children.join().toLowerCase().indexOf(e.toLowerCase())>=0}},void 0,S.map(function(e){return ne(ce,{},e._id,e.firstName," ",e.lastName)}))),ne(G.a.Item,{label:"Current Project"},void 0,ne(J.a,{showSearch:!0,allowClear:!0,value:c||void 0,placeholder:"Click and Type to assign Project",showArrow:!0,onChange:function(t){return e.handleChangeSelect(t,"currentProject")},notFoundContent:null,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},void 0,C.map(function(e){return ne(ce,{},e._id,e.name)}))),ne(G.a.Item,{label:"Working Hours"},void 0,ne(V.a,{value:g,format:"HH:mm",placeholder:"From",onChange:function(t){return e.onDateChange(t,"workingHoursFrom")},defaultOpenValue:s()("09:00","HH:mm")}),ne(V.a,{value:h,format:"HH:mm",placeholder:"To",onChange:function(t){return e.onDateChange(t,"workingHoursTo")},defaultOpenValue:s()("18:00","HH:mm")}),ne(J.a,{value:y||void 0,allowClear:!0,placeholder:"Time Zone",style:{width:"126px"},onChange:function(t){return e.handleChangeSelect(t,"workingHoursTimeZone")}},void 0,de,pe,me,ge,he)),ne(G.a.Item,{label:"On Holidays Till"},void 0,ne(K.a,{value:f,onChange:function(t){return e.onDateChange(t,"onHolidaysTill")}})),ne(G.a.Item,{label:"Free Since"},void 0,ne(K.a,{value:m,onChange:function(t){return e.onDateChange(t,"freeSince")}}))),ne("div",{className:X.a.required},void 0,"- required fields"))}}])&&oe(n.prototype,r),a&&oe(n,a),t}();se(ye,"defaultProps",{workerToEdit:null});var be,ve=Object(a.b)(function(e){var t=e.workers,n=t.sending,r=t.updating,o=t.reference;return{sending:n,updating:r,skills:o.skills,managers:o.managers,projects:o.projects}},function(e){return{actions:Object(i.bindActionCreators)({addWorker:A,updateWorker:L,checkWorker:$},e)}})(b()(X.a)(ye)),je=n(717),ke=n.n(je);function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Se(e,t,n,r){be||(be="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var l=new Array(a),s=0;s<a;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:be,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){He(e,t,n[t])})}return e}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pe=["GMT","CET","AST","EST","PST"],Ie=[0,60,-300,-240,-480],Me=10,Ae=Se(f.a,{type:"clock-circle"}),We=Se(u.a,{type:"vertical"}),De=Se("span",{},void 0,"Are you sure you want to delete this worker?"),Ee=Se(f.a,{type:"plus"}),Le=Se(f.a,{type:"clear"}),ze=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=this,o=(e=Ne(t)).call.apply(e,[this].concat(i)),He(_e(_e(n=!o||"object"!==we(o)&&"function"!=typeof o?_e(r):o)),"state",{dataLoaded:!1,showAddNewModal:!1,dataTable:[],workerToEdit:null,paginationWithParams:{page:1,limit:Me},sortedInfo:null}),He(_e(_e(n)),"onTableChange",function(e,t,r){var o=n.props.actions,a=Object.assign({},n.state.paginationWithParams);a.page=e.current,r.columnKey&&r.order?(a.sortColumn=r.columnKey,a.sortOrder=r.order):(delete a.sortColumn,delete a.sortOrder),Object.keys(t).forEach(function(e){a=n.prepareMatch(a,e,t[e])}),n.setState({paginationWithParams:a,sortedInfo:r}),o.getWorkersList(a)}),He(_e(_e(n)),"getHoursFormat",function(e){var t=e.workingHoursFrom,n=e.workingHoursTo,r=e.workingHoursTimeZone,o=e.onHolidaysTill,a=e.freeSince,i=t?t.format("HH:mm"):"n/a",l=n?n.format("HH:mm"):"n/a",c=r?Pe[Number(r)]:"",u=!1;if(t&&n&&r){var f=s()(),d=t.clone().utcOffset(Ie[Number(r)]),p=n.clone().utcOffset(Ie[Number(r)]);u=f.isAfter(d)&&f.isBefore(p),u=o?u&&f.isAfter(o):u,u=a?u&&f.isAfter(a):u}return{timeString:"".concat(i,"-").concat(l," ").concat(c),workingNow:u}}),He(_e(_e(n)),"getColumns",function(){var e=n.state.sortedInfo,t=n.props,r=t.skills,o=t.projects,a=t.managers;return[{title:"Name",dataIndex:"fullName",key:"fullName",width:"15%",sorter:function(e,t){return e.firstName.localeCompare(t.firstName)},sortOrder:e&&"fullName"===e.columnKey&&e.order},{title:"Skills",dataIndex:"skillsList",key:"skillsList",width:"25%",render:function(e){return Object(c.orderBy)(e,[function(e){return e.name.toLowerCase()}]).map(function(e){return Se(m.a,{color:n.getMatchIn("skillsList").indexOf(e.name)>=0&&"green",onClick:function(){return n.handleTag(e.name)}},e._id,e.name)})},filters:r.map(function(e){return{text:e.name,value:e.name}}),filteredValue:n.getMatchIn("skillsList")},{title:"Working Hours",dataIndex:"workingHoursFrom",key:"workingHours",render:function(e,t){var r=n.getHoursFormat(t);return Se("div",{className:ke.a.timeRange},void 0,r.workingNow&&Se("span",{className:ke.a.workingNow},void 0,Ae," Working"),r.timeString)}},{title:"On Holidays Till",dataIndex:"onHolidaysTill",key:"onHolidaysTill",sorter:function(e,t){var n=e.onHolidaysTill?e.onHolidaysTill.format("YYYY-MM-DD"):"",r=t.onHolidaysTill?t.onHolidaysTill.format("YYYY-MM-DD"):"";return n.localeCompare(r)},sortOrder:e&&"onHolidaysTill"===e.columnKey&&e.order,render:function(e){return e?Se("span",{className:e.isAfter(s()())?ke.a.dateAfter:""},void 0,e.format("YYYY-MM-DD")):"n/a"},filters:[{text:"On Holidays",value:"true"}],filteredValue:n.getMatchIn("onHolidaysTill")},{title:"Free Since",dataIndex:"freeSince",key:"freeSince",sorter:function(e,t){var n=e.freeSince?e.freeSince.format("YYYY-MM-DD"):"",r=t.freeSince?t.freeSince.format("YYYY-MM-DD"):"";return n.localeCompare(r)},sortOrder:e&&"freeSince"===e.columnKey&&e.order,render:function(e){return e?Se("span",{className:s()().isAfter(e)?ke.a.dateBefore:""},void 0,e.format("YYYY-MM-DD")):"n/a"},filters:[{text:"Free Now",value:"true"}],filteredValue:n.getMatchIn("freeSince")},{title:"Project",dataIndex:"currentProject",key:"currentProject",sorter:function(e,t){var n=e.currentProject?e.currentProject.name:"",r=t.currentProject?t.currentProject.name:"";return n.localeCompare(r)},sortOrder:e&&"currentProject"===e.columnKey&&e.order,render:function(e){return e?Se("div",{},e._id,e.name):"n/a"},filters:o.map(function(e){return{text:e.name,value:e.name}}),filteredValue:n.getMatchIn("currentProject")},{title:"Manager",dataIndex:"managerId",key:"managerId",sorter:function(e,t){var n=e.managerId?"".concat(e.managerId.firstName," ").concat(e.managerId.lastName):"",r=t.currentProject?"".concat(t.managerId.firstName," ").concat(t.managerId.lastName):"";return n.localeCompare(r)},sortOrder:e&&"managerId"===e.columnKey&&e.order,render:function(e){return e?Se("div",{},e._id,e.firstName," ",e.lastName):"n/a"},filters:a.map(function(e){return{text:"".concat(e.firstName," ").concat(e.lastName),value:"".concat(e.firstName," ").concat(e.lastName)}}),filteredValue:n.getMatchIn("managerId")},{title:"Actions",key:"action",width:120,render:function(e,t){return Se("span",{className:ke.a.actionsHolder},void 0,Se(d.a,{className:ke.a.buttonLink,shape:"circle",icon:"edit",onClick:function(){return n.handleEdit(t)}}),We,Se(d.a,{className:ke.a.buttonLink,shape:"circle",icon:"delete",onClick:function(){return n.handleDelete(t)}}))}}]}),He(_e(_e(n)),"getMatchIn",function(e){var t=n.state.paginationWithParams,r=t.matchColumn,o=t.matchIn,a=r?r.indexOf(e):-1;return a>=0&&o?o[a]:[]}),He(_e(_e(n)),"showAddNewModal",function(){n.setState({showAddNewModal:!0})}),He(_e(_e(n)),"handleCancelModal",function(){n.setState({showAddNewModal:!1,workerToEdit:null})}),He(_e(_e(n)),"handleEdit",function(e){n.setState({workerToEdit:e,showAddNewModal:!0})}),He(_e(_e(n)),"handleDelete",function(e){var t=n.state.paginationWithParams,r=n.props.actions;p.a.confirm({title:"Delete Team Member ".concat(e.firstName," ").concat(e.lastName),content:De,okText:"Yes, delete",cancelText:"Oh, No!",onOk:function(){return r.deleteWorker({id:e._id,pagination:t})}})}),He(_e(_e(n)),"prepareDataTable",function(){var e=n.props.data.map(function(e,t){return{_id:e._id,id:e.id,firstName:e.firstName,lastName:e.lastName,fullName:e.fullName,key:t,managerId:e.managerId,currentProject:e.currentProject,skillsList:e.skillsList,onHolidaysTill:e.onHolidaysTill?s()(e.onHolidaysTill):null,freeSince:e.freeSince?s()(e.freeSince):null,workingHoursFrom:e.workingHours.start?s()(e.workingHours.start,"HH:mm"):null,workingHoursTo:e.workingHours.end?s()(e.workingHours.end,"HH:mm"):null,workingHoursTimeZone:e.workingHours.timezone}});n.setState({dataTable:e})}),He(_e(_e(n)),"prepareMatch",function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e||{},a=o.matchColumn,i=o.matchIn,l=a?Oe(a):[],s=i?Oe(i):[],c=a?a.indexOf(t):-1,u=r&&n&&n.length>0;return u&&c>=0?s[c]=n:u?(l.push(t),s.push(n)):c>=0&&(l.splice(c,1),s.splice(c,1)),l.length>0?(o.matchColumn=l,o.matchIn=s):(delete o.matchColumn,delete o.matchIn),o}),He(_e(_e(n)),"prepareMatchIn",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=n.getMatchIn(e),a=o.indexOf(t);return(1===r||0===r)&&a<0&&t?o.push(t):(-1===r||0===r)&&a>=0&&t&&o.splice(o.indexOf(t),1),o}),He(_e(_e(n)),"handleTag",function(e){var t=n.props.actions,r=Object.assign({},n.state.paginationWithParams);r.page=1,r=n.prepareMatch(r,"skillsList",n.prepareMatchIn("skillsList",e,0)),n.setState({paginationWithParams:r}),t.getWorkersList(r)}),He(_e(_e(n)),"handleClearFilters",function(){var e=n.props.actions,t={page:1,limit:Me};n.setState({sortedInfo:null,paginationWithParams:t}),e.getWorkersList(t)}),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props.actions,t=this.state.paginationWithParams;e.getWorkersList(xe({initial:!0},t))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.error,r=t.loading,o=t.sending,a=t.deleting,i=t.updating,l=t.data;n.error&&e.error!==n&&n.message&&h.a.error(n.message,10),n.error||!e.sending||o||h.a.success("Team Member successfully added"),n.error||!e.deleting||a||h.a.success("Team Member successfully deleted"),n.error||!e.updating||i||h.a.success("Team Member successfully updated"),!r&&e.loading&&this.setState({dataLoaded:!0}),l!==e.data&&this.prepareDataTable()}},{key:"render",value:function(){var e=this.state,t=e.dataLoaded,n=e.showAddNewModal,r=e.dataTable,o=e.workerToEdit,a=e.paginationWithParams,i=this.props,l=i.loading,s=i.pagination;return Se("div",{className:ke.a.overHolder},void 0,Se(ve,{visible:n,handleCancel:this.handleCancelModal,workerToEdit:o,paginationWithParams:a}),Se("div",{className:ke.a.buttonsHolder},void 0,Se("span",{},void 0,Se(d.a,{htmlType:"button",disabled:l||!t,onClick:this.showAddNewModal},void 0,Ee," Add new Team Member")),Se("span",{},void 0,Object.keys(a).length>2&&Se(d.a,{htmlType:"button",onClick:this.handleClearFilters},void 0,Le," Clear All Filters"))),Se("div",{className:ke.a.dataHolder},void 0,Se(g.a,{loading:l||!t,columns:this.getColumns(),dataSource:r,pagination:{pageSize:s.limit,current:s.page,total:s.totalDocs},onChange:this.onTableChange})))}}])&&Ce(n.prototype,r),a&&Ce(n,a),t}();He(ze,"defaultProps",{});var Fe,Ye=Object(a.b)(function(e){var t=e.workers,n=t.loading,r=t.sending,o=t.deleting,a=t.updating,i=t.data,l=i.docs,s=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(i,["docs"]),c=t.reference,u=c.skills,f=c.managers,d=c.projects,p=e.error;return{loading:n,sending:r,deleting:o,updating:a,data:l,pagination:xe({},s),skills:u,managers:f,projects:d,error:p}},function(e){return{actions:Object(i.bindActionCreators)({getWorkersList:H,deleteWorker:U},e)}})(b()(ke.a)(ze)),Ue=n(402);function qe(e,t,n,r){Fe||(Fe="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var l=new Array(a),s=0;s<a;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:Fe,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Ze=qe(Ye,{});t.default=function(e){var t=e.route,n=e.params;return{title:"Team",chunks:["team"],component:qe(Ue.a,{route:t,params:n,title:"Development Team"},void 0,Ze)}}},402:function(e,t,n){"use strict";var r,o=n(20),a=n.n(o),i=(n(11),n(390)),l=n.n(i),s=n(1020),c=n(148),u=n(21),f=n(430),d=n.n(f),p=n(54),m=n(408),g=n.n(m);function h(e,t,n,o){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=new Array(i),c=0;c<i;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y,b=l()(g.a)(function(e){var t=e.title;return h("div",{className:g.a.headerHolder},void 0,h("h3",{},void 0,t))}),v=n(406),j=n.n(v);function k(e,t,n,r){y||(y="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var l=new Array(a),s=0;s<a;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:y,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var w,O=l()(j.a)(function(){return k("div",{className:j.a.footerHolder},void 0,k("div",{className:"container"},void 0,"© 2019",k("a",{className:j.a.link,target:"_blank",href:"https://github.com/surzhik/team-status"},void 0,"Ivan Turuk")))}),S=n(404),C=n.n(S);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t,n,r){w||(w="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var l=new Array(a),s=0;s<a;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:w,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=s.a.Header,A=s.a.Content,W=s.a.Footer,D=s.a.Sider,E=T(u.a,{type:"contacts"}),L=T(c.a.Item,{},"/",T(u.a,{type:"file-text"}),T("span",{},void 0,"Overview")),z=T(c.a.Item,{},"/team",T(u.a,{type:"team"}),T("span",{},void 0,"Team")),F=T(c.a.Item,{},"/managers",T(u.a,{type:"fund"}),T("span",{},void 0,"Managers")),Y=T(c.a.Item,{},"/skills",T(u.a,{type:"star"}),T("span",{},void 0,"Skills")),U=T(c.a.Item,{},"/projects",T(u.a,{type:"code"}),T("span",{},void 0,"Projects")),q=T(O,{}),Z=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=this,o=(e=x(t)).call.apply(e,[this].concat(i)),I(P(P(n=!o||"object"!==N(o)&&"function"!=typeof o?P(r):o)),"state",{collapsed:!1}),I(P(P(n)),"onCollapse",function(e){localStorage.setItem("collapsed",e),n.setState({collapsed:e})}),I(P(P(n)),"handleMenuClick",function(e){var t=e.key;p.a.push(t)}),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,a.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){"true"===localStorage.getItem("collapsed")&&this.setState({collapsed:!0})}},{key:"render",value:function(){var e=this.props,t=e.title,n=[e.route.path||"/"];return T(s.a,{style:{minHeight:"100vh"},className:"ant-layout-has-sider"},void 0,T(D,{collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse,style:{background:"#fff"}},void 0,T("div",{className:C.a.logoHolder},void 0,E),T(c.a,{defaultSelectedKeys:n,mode:"inline",onClick:this.handleMenuClick},void 0,L,z,F,Y,U)),T(s.a,{},void 0,T(M,{style:{background:"#fff",padding:"0 30px"}},void 0,T(b,{title:t})),T(A,{style:{backgroundColor:"#fff",padding:"30px"}},void 0,this.props.children),T(W,{style:{backgroundColor:"#fff",padding:"5px 30px 15px 30px"}},void 0,q)))}}])&&_(n.prototype,r),o&&_(n,o),t}();t.a=l()(C.a,d.a)(Z)},403:function(e,t,n){(t=e.exports=n(389)(!1)).push([e.i,':root{--font-family-base:"Source Sans Pro","Segoe UI","HelveticaNeue-Light",sans-serif}html{color:#222}body,html{height:100%}body{margin:0;background:#fff}.app .ant-layout-sider-trigger{background:#fff;color:#222;margin-left:-1px}.app .ant-layout-sider:after{position:absolute;content:"";right:0;top:0;bottom:0;width:1px;background:#f0f0f0}.Zttse{text-align:center;font-size:35px;margin-bottom:30px;color:#1890ff}',""]),t.locals={logoHolder:"Zttse"}},404:function(e,t,n){var r=n(403),o=n(388);"string"==typeof r&&(r=[[e.i,r,""]]),e.exports=r.locals||{},e.exports._getContent=function(){return r},e.exports._getCss=function(){return r.toString()},e.exports._insertCss=function(e){return o(r,e)}},405:function(e,t,n){(t=e.exports=n(389)(!1)).push([e.i,"._1tBGX{font-size:12px;text-align:right}._3Ww1H{margin-left:10px}._3Ww1H,._3Ww1H:active,._3Ww1H:visited{text-decoration:none}",""]),t.locals={footerHolder:"_1tBGX",link:"_3Ww1H"}},406:function(e,t,n){var r=n(405),o=n(388);"string"==typeof r&&(r=[[e.i,r,""]]),e.exports=r.locals||{},e.exports._getContent=function(){return r},e.exports._getCss=function(){return r.toString()},e.exports._insertCss=function(e){return o(r,e)}},407:function(e,t,n){(t=e.exports=n(389)(!1)).push([e.i,"._1jA81{padding:15px 0;border-bottom:1px solid #f0f0f0;line-height:1}",""]),t.locals={headerHolder:"_1jA81"}},408:function(e,t,n){var r=n(407),o=n(388);"string"==typeof r&&(r=[[e.i,r,""]]),e.exports=r.locals||{},e.exports._getContent=function(){return r},e.exports._getCss=function(){return r.toString()},e.exports._insertCss=function(e){return o(r,e)}},420:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r=n(1);function o(){return{type:r.A}}function a(e){var t=e.error,n=e.message;return{type:r.B,payload:{error:t,message:n}}}},716:function(e,t,n){(t=e.exports=n(389)(!1)).push([e.i,"._39Cty{padding:0}._39Cty .ant-table-content{overflow:auto}._39Cty .ant-table table{width:500px}._39Cty .ant-tag{margin-top:2px;margin-bottom:2px}._39Cty .ant-table-pagination.ant-pagination{float:none}._3lB3D>span:not(:last-child){margin-right:15px}._1POC-,._1sfGk{margin-top:30px}._1p5DP{padding:0 5px;font-size:16px;line-height:1;border:none;background:none}._1p5DP:active,._1p5DP:focus,._1p5DP:hover{background:none;-webkit-box-shadow:none;box-shadow:none}._30InX{color:#dc3c52}._3Q2bL{color:#7cb500}._1oWMc{font-size:12px;position:relative}._1oWMc,._1PGQ1{white-space:nowrap}.uBFJQ{color:#7cb500;position:absolute;left:0;bottom:100%;margin-top:-5px;font-size:12px}@media (min-width:767px){._39Cty .ant-table table{width:100%}}",""]),t.locals={overHolder:"_39Cty",buttonsHolder:"_3lB3D",loaderHolder:"_1sfGk",dataHolder:"_1POC-",buttonLink:"_1p5DP",dateAfter:"_30InX",dateBefore:"_3Q2bL",timeRange:"_1oWMc",actionsHolder:"_1PGQ1",workingNow:"uBFJQ"}},717:function(e,t,n){var r=n(716),o=n(388);"string"==typeof r&&(r=[[e.i,r,""]]),e.exports=r.locals||{},e.exports._getContent=function(){return r},e.exports._getCss=function(){return r.toString()},e.exports._insertCss=function(e){return o(r,e)}},718:function(e,t,n){(t=e.exports=n(389)(!1)).push([e.i,'._7P6pU{margin-bottom:50px}._7P6pU .ant-form-item-label{text-align:left}._7P6pU .ant-form-item{margin-bottom:5px}._7P6pU .ant-form-item-children .ant-time-picker{margin-right:15px}._3KVM0{margin-top:15px;font-size:12px}._2Qy85 label:before,._3KVM0:before{display:inline-block;margin-right:4px;color:#f5222d;font-size:14px;font-family:SimSun,sans-serif;line-height:1;content:"*"}',""]),t.locals={addModal:"_7P6pU",required:"_3KVM0",requiredField:"_2Qy85"}},719:function(e,t,n){var r=n(718),o=n(388);"string"==typeof r&&(r=[[e.i,r,""]]),e.exports=r.locals||{},e.exports._getContent=function(){return r},e.exports._getCss=function(){return r.toString()},e.exports._insertCss=function(e){return o(r,e)}},950:function(e,t,n){var r={"./af":675,"./af.js":675,"./ar":674,"./ar-dz":673,"./ar-dz.js":673,"./ar-kw":672,"./ar-kw.js":672,"./ar-ly":671,"./ar-ly.js":671,"./ar-ma":670,"./ar-ma.js":670,"./ar-sa":669,"./ar-sa.js":669,"./ar-tn":668,"./ar-tn.js":668,"./ar.js":674,"./az":667,"./az.js":667,"./be":666,"./be.js":666,"./bg":665,"./bg.js":665,"./bm":664,"./bm.js":664,"./bn":663,"./bn.js":663,"./bo":662,"./bo.js":662,"./br":661,"./br.js":661,"./bs":660,"./bs.js":660,"./ca":659,"./ca.js":659,"./cs":658,"./cs.js":658,"./cv":657,"./cv.js":657,"./cy":656,"./cy.js":656,"./da":655,"./da.js":655,"./de":654,"./de-at":653,"./de-at.js":653,"./de-ch":652,"./de-ch.js":652,"./de.js":654,"./dv":651,"./dv.js":651,"./el":650,"./el.js":650,"./en-SG":649,"./en-SG.js":649,"./en-au":648,"./en-au.js":648,"./en-ca":647,"./en-ca.js":647,"./en-gb":646,"./en-gb.js":646,"./en-ie":645,"./en-ie.js":645,"./en-il":644,"./en-il.js":644,"./en-nz":643,"./en-nz.js":643,"./eo":642,"./eo.js":642,"./es":641,"./es-do":640,"./es-do.js":640,"./es-us":639,"./es-us.js":639,"./es.js":641,"./et":638,"./et.js":638,"./eu":637,"./eu.js":637,"./fa":636,"./fa.js":636,"./fi":635,"./fi.js":635,"./fo":634,"./fo.js":634,"./fr":633,"./fr-ca":632,"./fr-ca.js":632,"./fr-ch":631,"./fr-ch.js":631,"./fr.js":633,"./fy":630,"./fy.js":630,"./ga":629,"./ga.js":629,"./gd":628,"./gd.js":628,"./gl":627,"./gl.js":627,"./gom-latn":626,"./gom-latn.js":626,"./gu":625,"./gu.js":625,"./he":624,"./he.js":624,"./hi":623,"./hi.js":623,"./hr":622,"./hr.js":622,"./hu":621,"./hu.js":621,"./hy-am":620,"./hy-am.js":620,"./id":619,"./id.js":619,"./is":618,"./is.js":618,"./it":617,"./it-ch":616,"./it-ch.js":616,"./it.js":617,"./ja":615,"./ja.js":615,"./jv":614,"./jv.js":614,"./ka":613,"./ka.js":613,"./kk":612,"./kk.js":612,"./km":611,"./km.js":611,"./kn":610,"./kn.js":610,"./ko":609,"./ko.js":609,"./ku":608,"./ku.js":608,"./ky":607,"./ky.js":607,"./lb":606,"./lb.js":606,"./lo":605,"./lo.js":605,"./lt":604,"./lt.js":604,"./lv":603,"./lv.js":603,"./me":602,"./me.js":602,"./mi":601,"./mi.js":601,"./mk":600,"./mk.js":600,"./ml":599,"./ml.js":599,"./mn":598,"./mn.js":598,"./mr":597,"./mr.js":597,"./ms":596,"./ms-my":595,"./ms-my.js":595,"./ms.js":596,"./mt":594,"./mt.js":594,"./my":593,"./my.js":593,"./nb":592,"./nb.js":592,"./ne":591,"./ne.js":591,"./nl":590,"./nl-be":589,"./nl-be.js":589,"./nl.js":590,"./nn":588,"./nn.js":588,"./pa-in":587,"./pa-in.js":587,"./pl":586,"./pl.js":586,"./pt":585,"./pt-br":584,"./pt-br.js":584,"./pt.js":585,"./ro":583,"./ro.js":583,"./ru":582,"./ru.js":582,"./sd":581,"./sd.js":581,"./se":580,"./se.js":580,"./si":579,"./si.js":579,"./sk":578,"./sk.js":578,"./sl":577,"./sl.js":577,"./sq":576,"./sq.js":576,"./sr":575,"./sr-cyrl":574,"./sr-cyrl.js":574,"./sr.js":575,"./ss":573,"./ss.js":573,"./sv":572,"./sv.js":572,"./sw":571,"./sw.js":571,"./ta":570,"./ta.js":570,"./te":569,"./te.js":569,"./tet":568,"./tet.js":568,"./tg":567,"./tg.js":567,"./th":566,"./th.js":566,"./tl-ph":565,"./tl-ph.js":565,"./tlh":564,"./tlh.js":564,"./tr":563,"./tr.js":563,"./tzl":562,"./tzl.js":562,"./tzm":561,"./tzm-latn":560,"./tzm-latn.js":560,"./tzm.js":561,"./ug-cn":559,"./ug-cn.js":559,"./uk":558,"./uk.js":558,"./ur":557,"./ur.js":557,"./uz":556,"./uz-latn":555,"./uz-latn.js":555,"./uz.js":556,"./vi":554,"./vi.js":554,"./x-pseudo":553,"./x-pseudo.js":553,"./yo":552,"./yo.js":552,"./zh-cn":551,"./zh-cn.js":551,"./zh-hk":550,"./zh-hk.js":550,"./zh-tw":549,"./zh-tw.js":549};function o(e){var t=a(e);return n(t)}function a(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=950}}]);
//# sourceMappingURL=team.869568b2.chunk.js.map