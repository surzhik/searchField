{"version":3,"sources":["E:/OpenServer/domains/searchField/src/routes/search/Search.css","webpack:///./src/routes/search/Search.css?cd6c","E:/OpenServer/domains/searchField/src/components/Loader/Loader.css","webpack:///./src/components/Loader/Loader.css?3fe0","E:/OpenServer/domains/searchField/src/constants/moviesApi.js","E:/OpenServer/domains/searchField/src/actions/errors.js","E:/OpenServer/domains/searchField/src/actions/movies.js","E:/OpenServer/domains/searchField/src/components/Loader/Loader.js","E:/OpenServer/domains/searchField/src/routes/search/Search.js","E:/OpenServer/domains/searchField/src/debounce.js","E:/OpenServer/domains/searchField/src/routes/search/index.js"],"names":["exports","module","__webpack_require__","push","i","locals","wrap","searchHolder","searchField","inputField","suggestionsHolder","noSuggestions","content","insertCss","_getContent","_getCss","toString","_insertCss","options","loading","loading1","loading2","loading3","url","api_key","errorClear","type","constants","errorSet","_ref","error","message","payload","movies_getMoviesStart","movies_getMoviesSuccess","data","movies_getMoviesFail","searchMovies","page","arguments","length","undefined","searchText","dispatch","axios_default","moviesApi_default","a","concat","method","headers","Accept","Content-Type","then","response","catch","_jsx","Loader_Loader_Loader","react_default","PureComponent","className","Loader_default","Loader_ref","_ref2","_ref3","_ref4","components_Loader_Loader","withStyles_default","Search_jsx","Search_Movie","func","wait","immediate","timeout","suggestions","_this","props","showSuggest","fetching","setState","state","actions","context","this","args","callNow","clearTimeout","setTimeout","apply","event","target","value","doSearch","preventDefault","Component","prevProps","_this$props","stateObject","Object","keys","_this2","_this$state","Search_default","onSubmit","handleSubmit","placeholder","onChange","handleChange","onFocus","setFocus","onBlur","setBlur","Search_ref2","Search_ref3","map","row","id","href","onMouseDown","setSearch","title","search_Search","es","movies","redux_es","__webpack_exports__","params","chunks","component","search_jsx"],"mappings":"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","file":"search.d3a71354.chunk.js","sourcesContent":["exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"._3erlb{display:-ms-flexbox;display:flex;height:80%;position:fixed;top:0;right:0;bottom:0;left:0;-ms-flex-align:center;align-items:center;font-family:Source Sans Pro,Segoe UI,HelveticaNeue-Light,sans-serif}._1PX3p{-ms-flex:100% 0;flex:100% 0;padding:30px}._1rqRS{max-width:500px;margin:0 auto;height:40px;padding:0 20px;position:relative}._1rqRS button{position:absolute;top:5px;right:-5px;content:\\\"\\\";background:url(\\\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaGVpZ2h0PSI0OCIgaWQ9InN2ZzgiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDEyLjcgMTIuNyIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIiB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBpZD0ibGF5ZXIxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLC0yODQuMjk5OTgpIj48cGF0aCBkPSJtIDkuODc3Nzc4MSwyODkuOTQ0NCAzZS03LC0yLjgyMjIxIEggOC40NjY2NjcxIHYgMi44MjIyMSBjIDAsMC4zNTI4IC0wLjM1Mjc3NzksMC43MDU1OCAtMC43MDU1NTU1LDAuNzA1NTggSCA0LjIzMzMzMzUgbCAyLjExNjY2NjgsLTIuMTE2NjcgLTAuNzA1NTQ2NywtMC43MDU1NyAtMy41Mjc3ODY4LDMuNTI3NzggMy41Mjc3ODY4LDMuNTI3NzkgMC43MDU1NDY3LC0wLjcwNTU3IC0yLjExNjY2NjgsLTIuMTE2NjcgaCAzLjUyNzc3ODEgYyAxLjIzNDcyMjIsMCAyLjExNjY2NjUsLTAuODgxOTUgMi4xMTY2NjY1LC0yLjExNjY3IHoiIGlkPSJwYXRoNDQ4MyIgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MC43MDU1NTU1NnB4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiLz48L2c+PC9zdmc+\\\") no-repeat 50%;background-size:contain;width:30px;height:30px;display:block;border:none;opacity:.3;-webkit-transition:all .3s ease-in-out;-o-transition:all ease-in-out .3s;transition:all .3s ease-in-out;outline:none}._1rqRS button:hover{opacity:.5}._1L6mP{display:block;width:100%;border:1px solid #eee;padding:0 20px;font-size:14px;background:#f5f5f5;border-radius:20px;outline:none;height:40px;-webkit-transition:all .3s ease-in-out;-o-transition:all ease-in-out .3s;transition:all .3s ease-in-out;font-family:Source Sans Pro,Segoe UI,HelveticaNeue-Light,sans-serif}._1L6mP::-webkit-input-placeholder{color:#999;font-style:italic;-webkit-transition:all .3s ease-in-out;-o-transition:all ease-in-out .3s;transition:all .3s ease-in-out}._1L6mP:-ms-input-placeholder,._1L6mP::-ms-input-placeholder{color:#999;font-style:italic;-webkit-transition:all .3s ease-in-out;-o-transition:all ease-in-out .3s;transition:all .3s ease-in-out}._1L6mP::placeholder{color:#999;font-style:italic;-webkit-transition:all .3s ease-in-out;-o-transition:all ease-in-out .3s;transition:all .3s ease-in-out}._1L6mP:focus{-webkit-box-shadow:0 0 15px rgba(0,0,0,.1);box-shadow:0 0 15px rgba(0,0,0,.1);background:#fff}._1L6mP:focus+button{opacity:.5}._1L6mP:focus::-webkit-input-placeholder{color:#fff}._1L6mP:focus:-ms-input-placeholder,._1L6mP:focus::-ms-input-placeholder{color:#fff}._1L6mP:focus::placeholder{color:#fff}._1gsm5{position:absolute;top:100%;border:1px solid #eee;background:#fff;border-radius:20px;width:100%;margin-top:2px;font-size:12px;max-height:350px;overflow:auto}._1gsm5 ul{list-style:none;margin:10px 0;padding:0}._1gsm5 ul a{display:block;padding:7px 20px;text-decoration:none;color:#666;-webkit-transition:all .3s ease-in-out;-o-transition:all ease-in-out .3s;transition:all .3s ease-in-out}._1gsm5 ul a:hover{background:#f8f8f8}._3UyeH{padding:10px 20px;color:#999}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"wrap\": \"_3erlb\",\n\t\"searchHolder\": \"_1PX3p\",\n\t\"searchField\": \"_1rqRS\",\n\t\"inputField\": \"_1L6mP\",\n\t\"suggestionsHolder\": \"_1gsm5\",\n\t\"noSuggestions\": \"_3UyeH\"\n};","\n    var content = require(\"!!../../../node_modules/css-loader/index.js??ref--5-rules-2!../../../node_modules/postcss-loader/lib/index.js??ref--5-rules-3!./Search.css\");\n    var insertCss = require(\"!../../../node_modules/isomorphic-style-loader/lib/insertCss.js\");\n\n    if (typeof content === 'string') {\n      content = [[module.id, content, '']];\n    }\n\n    module.exports = content.locals || {};\n    module.exports._getContent = function() { return content; };\n    module.exports._getCss = function() { return content.toString(); };\n    module.exports._insertCss = function(options) { return insertCss(content, options) };\n    \n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--5-rules-2!../../../node_modules/postcss-loader/lib/index.js??ref--5-rules-3!./Search.css\", function() {\n        content = require(\"!!../../../node_modules/css-loader/index.js??ref--5-rules-2!../../../node_modules/postcss-loader/lib/index.js??ref--5-rules-3!./Search.css\");\n\n        if (typeof content === 'string') {\n          content = [[module.id, content, '']];\n        }\n\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".mQgEL{display:inline-block;position:relative;width:64px;height:11px;margin:15px}.mQgEL div{position:absolute;top:3px;width:11px;height:11px;border-radius:50%;background:#eee;-webkit-animation-timing-function:cubic-bezier(0,1,1,0);animation-timing-function:cubic-bezier(0,1,1,0)}.mQgEL div:first-child{left:6px;-webkit-animation:svoPb .6s infinite;animation:svoPb .6s infinite}.mQgEL div:nth-child(2){left:6px}.mQgEL div:nth-child(2),.mQgEL div:nth-child(3){-webkit-animation:_2shgS .6s infinite;animation:_2shgS .6s infinite}.mQgEL div:nth-child(3){left:26px}.mQgEL div:nth-child(4){left:45px;-webkit-animation:_2vtHF .6s infinite;animation:_2vtHF .6s infinite}@-webkit-keyframes svoPb{0%{-webkit-transform:scale(0);transform:scale(0)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes svoPb{0%{-webkit-transform:scale(0);transform:scale(0)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes _2vtHF{0%{-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:scale(0);transform:scale(0)}}@keyframes _2vtHF{0%{-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:scale(0);transform:scale(0)}}@-webkit-keyframes _2shgS{0%{-webkit-transform:translate(0);transform:translate(0)}to{-webkit-transform:translate(19px);transform:translate(19px)}}@keyframes _2shgS{0%{-webkit-transform:translate(0);transform:translate(0)}to{-webkit-transform:translate(19px);transform:translate(19px)}}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"loading\": \"mQgEL\",\n\t\"loading1\": \"svoPb\",\n\t\"loading2\": \"_2shgS\",\n\t\"loading3\": \"_2vtHF\"\n};","\n    var content = require(\"!!../../../node_modules/css-loader/index.js??ref--5-rules-2!../../../node_modules/postcss-loader/lib/index.js??ref--5-rules-3!./Loader.css\");\n    var insertCss = require(\"!../../../node_modules/isomorphic-style-loader/lib/insertCss.js\");\n\n    if (typeof content === 'string') {\n      content = [[module.id, content, '']];\n    }\n\n    module.exports = content.locals || {};\n    module.exports._getContent = function() { return content; };\n    module.exports._getCss = function() { return content.toString(); };\n    module.exports._insertCss = function(options) { return insertCss(content, options) };\n    \n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--5-rules-2!../../../node_modules/postcss-loader/lib/index.js??ref--5-rules-3!./Loader.css\", function() {\n        content = require(\"!!../../../node_modules/css-loader/index.js??ref--5-rules-2!../../../node_modules/postcss-loader/lib/index.js??ref--5-rules-3!./Loader.css\");\n\n        if (typeof content === 'string') {\n          content = [[module.id, content, '']];\n        }\n\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  ","module.exports = {\n  // Movies API\n\n  url: 'https://api.themoviedb.org/3',\n  api_key: 'e73e67b734804989bc1ea035bf5fbac1',\n};\n","/* eslint-disable import/prefer-default-export */\nimport { ERROR_CLEAR, ERROR_SET } from '../constants';\n\nexport function errorClear() {\n  return {\n    type: ERROR_CLEAR,\n  };\n}\nexport function errorSet({ error, message }) {\n  return {\n    type: ERROR_SET,\n    payload: {\n      error,\n      message,\n    },\n  };\n}\n","/* eslint-disable import/prefer-default-export */\nimport axios from 'axios';\nimport moviesApi from '../constants/moviesApi';\nimport { errorClear, errorSet } from './errors';\nimport {\n  GET_MOVIES_LIST,\n  GET_MOVIES_LIST_SUCCESS,\n  GET_MOVIES_LIST_FAIL,\n  SET_SEARCH_TEXT,\n} from '../constants';\n\nexport const getMoviesStart = () => ({\n  type: GET_MOVIES_LIST,\n});\n\nexport const getMoviesSuccess = data => ({\n  type: GET_MOVIES_LIST_SUCCESS,\n  payload: { data },\n});\n\nexport const getMoviesFail = () => ({\n  type: GET_MOVIES_LIST_FAIL,\n});\n\nexport function getMoviesList(page = 1) {\n  return dispatch => {\n    dispatch(errorClear());\n    dispatch(getMoviesStart());\n    return axios({\n      url: `${moviesApi.url}/movie/popular?page=${page}&api_key=${\n        moviesApi.api_key\n      }`,\n      method: 'get',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n    })\n      .then(response => {\n        dispatch(getMoviesSuccess(response.data));\n      })\n      .catch(error => {\n        dispatch(\n          errorSet({\n            error,\n            message:\n              'It is unable to load movies list. Please try again later.',\n          }),\n        );\n        dispatch(getMoviesFail());\n      });\n  };\n}\n\nexport function setSearchText(searchText) {\n  return {\n    type: SET_SEARCH_TEXT,\n    payload: {\n      searchText,\n    },\n  };\n}\n\nexport function searchMovies(page = 1, searchText = '') {\n  return dispatch => {\n    dispatch(errorClear());\n    dispatch(getMoviesStart());\n    return axios({\n      url: `${\n        moviesApi.url\n      }/search/movie?page=${page}&query=${searchText}&api_key=${\n        moviesApi.api_key\n      }`,\n      method: 'get',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n    })\n      .then(response => {\n        dispatch(getMoviesSuccess(response.data));\n      })\n      .catch(error => {\n        dispatch(\n          errorSet({\n            error,\n            message:\n              'It is unable to load movies list. Please try again later.',\n          }),\n        );\n        dispatch(getMoviesFail());\n      });\n  };\n}\n","/* eslint-disable react/no-array-index-key */\nimport React from 'react';\nimport withStyles from 'isomorphic-style-loader/lib/withStyles';\nimport s from './Loader.css';\n\nclass Loader extends React.PureComponent {\n  render() {\n    return (\n      <div className={s.loading}>\n        <div />\n        <div />\n        <div />\n        <div />\n      </div>\n    );\n  }\n}\n\nexport default withStyles(s)(Loader);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport withStyles from 'isomorphic-style-loader/lib/withStyles';\nimport { searchMovies } from '../../actions/movies';\nimport Loader from '../../components/Loader';\nimport debounce from '../../debounce';\nimport s from './Search.css';\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        searchMovies,\n      },\n      dispatch,\n    ),\n  };\n}\n\nfunction mapStateToProps({ movies, error }) {\n  return {\n    loading: movies.loading,\n    error,\n    suggestions: movies.suggestions,\n  };\n}\n\nclass Movie extends React.Component {\n  /* eslint-disable react/forbid-prop-types */\n\n  static propTypes = {\n    suggestions: PropTypes.array,\n    actions: PropTypes.object.isRequired,\n    loading: PropTypes.bool.isRequired,\n  };\n\n  static defaultProps = {\n    suggestions: [],\n  };\n\n  state = {\n    suggestions: this.props.suggestions, // list of suggestions\n    searchText: '', // text in input field\n    showSuggest: false, // show suggestions block\n    fetching: false, // getting data from server\n  };\n\n  componentDidUpdate(prevProps) {\n    /* eslint-disable react/no-did-update-set-state */\n    const { suggestions, loading } = this.props;\n    const stateObject = {};\n\n    // changing suggestions list if any\n    if (prevProps.suggestions !== suggestions) {\n      stateObject.suggestions = suggestions;\n    }\n\n    // changing fetching if loaded\n    if (prevProps.loading !== loading && !loading) {\n      stateObject.fetching = false;\n    }\n\n    if (Object.keys(stateObject).length) {\n      this.setState(stateObject);\n    }\n  }\n\n  setFocus = () => {\n    this.setState({\n      showSuggest: true,\n    });\n  };\n\n  setBlur = () => {\n    this.setState({\n      showSuggest: false,\n    });\n  };\n\n  setSearch = searchText => {\n    this.setState({\n      searchText,\n      showSuggest: false,\n    });\n    // here is Action on submit search\n  };\n\n  // debounce input to prevent unnecessary API call\n  doSearch = debounce(() => {\n    const { searchText } = this.state;\n    const { actions } = this.props;\n\n    actions.searchMovies(1, searchText);\n  }, 1000);\n\n  handleChange = event => {\n    this.setState({\n      suggestions: [],\n      searchText: event.target.value,\n    });\n    this.setState({\n      fetching: true,\n    });\n    this.doSearch();\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    // here is Action on submit search\n  };\n\n  render() {\n    /* eslint-disable no-nested-ternary */\n    const { suggestions, searchText, showSuggest, fetching } = this.state;\n    const { loading } = this.props;\n\n    return (\n      <div className={s.wrap}>\n        <div className={s.searchHolder}>\n          <div className={s.searchField}>\n            <form onSubmit={this.handleSubmit}>\n              <input\n                type=\"text\"\n                placeholder=\"Type to search movies\"\n                className={s.inputField}\n                value={searchText}\n                onChange={this.handleChange}\n                onFocus={this.setFocus}\n                onBlur={this.setBlur}\n              />\n              <button type=\"submit\" />\n            </form>\n            {loading &&\n              showSuggest && (\n                <div className={s.suggestionsHolder}>\n                  <Loader />\n                </div>\n              )}\n            {!loading &&\n              showSuggest &&\n              searchText &&\n              !fetching && (\n                <div className={s.suggestionsHolder}>\n                  {/* eslint-disable jsx-a11y/anchor-is-valid */\n\n                  suggestions.length ? (\n                    <ul>\n                      {suggestions.map(row => (\n                        <li key={`sugg_${row.id}`}>\n                          <a\n                            href=\"#\"\n                            onMouseDown={() => this.setSearch(row.title)}\n                          >\n                            {row.title}\n                          </a>\n                        </li>\n                      ))}\n                    </ul>\n                  ) : (\n                    <div className={s.noSuggestions}>It is no suggestions</div>\n                  )}\n                </div>\n              )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(withStyles(s)(Movie));\n","/* eslint-disable func-names */\n/* eslint-disable prefer-rest-params */\nexport default function debounce(func, wait, immediate) {\n  let timeout;\n  return function() {\n    const context = this;\n    const args = arguments;\n    const later = function() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n\n    if (callNow) func.apply(context, args);\n  };\n}\n","import React from 'react';\nimport Search from './Search';\n\nfunction action({ params }) {\n  return {\n    title: 'Search',\n    chunks: ['search'],\n    component: <Search type={params.searchText} />,\n  };\n}\nexport default action;\n"],"sourceRoot":""}